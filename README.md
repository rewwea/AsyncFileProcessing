# Async File Processing with Enhanced Caesar Cipher and Mirror Text

## Описание проекта

Этот проект реализует асинхронную обработку файлов с использованием улучшенного шифра Цезаря и зеркального преобразования текста. Программа выполняет следующие задачи:

1. **Шифрование файлов**: Каждый файл шифруется с помощью улучшенного шифра Цезаря.
2. **Объединение файлов**: Зашифрованные файлы объединяются в два файла:
   - Файлы с четными номерами — в один файл.
   - Файлы с нечетными номерами — в другой файл.
3. **Расшифровка и зеркальное преобразование**: Объединенные файлы расшифровываются, и их содержимое записывается в новый файл (`decrypted_mirror_file.txt`) в зеркальном виде.

---

## Как работает программа

### 1. Улучшенный шифр Цезаря
Улучшенный шифр Цезаря использует переменный сдвиг для каждой буквы в зависимости от её позиции в тексте. Формула шифрования:

```
C[i] = (P[i] + shift + i) mod 26
```

Где:
- `C[i]` — зашифрованный символ.
- `P[i]` — исходный символ.
- `shift` — базовый сдвиг.
- `i` — позиция символа в тексте.

Для расшифровки используется обратная формула:
```
P[i] = (C[i] - shift - i + 26) mod 26
```

### 2. Зеркальное преобразование текста
После расшифровки текст переворачивается (зеркальное преобразование). Например:
```
"Hello" → "olleH"
```

---

## Структура проекта

```
AsyncFileProcessing/
├── README.md               # Документация проекта
├── CMakeLists.txt          # Конфигурация CMake
├── include/
│   ├── enhanced_caesar.h   # Улучшенный шифр Цезаря
│   └── file_utils.h        # Утилиты для работы с файлами
├── src/
│   ├── main.cpp            # Главный файл программы
│   ├── enhanced_caesar.cpp # Реализация шифра Цезаря
│   ├── file_utils.cpp      # Реализация утилит для файлов
│   └── async_tasks.cpp     # Асинхронные задачи
└── test_files/
    ├── file1.txt           # Исходный файл 1
    ├── file2.txt           # Исходный файл 2
    ├── file3.txt           # Исходный файл 3
    └── file4.txt           # Исходный файл 4
```

---

## Требования

- **C++20** или выше.
- **CMake** версии 3.10 или выше.
- Компилятор, поддерживающий стандарт C++20 (например, GCC 10+ или Clang 10+).

---

## Пример использования

### 1. Подготовка тестовых файлов
Создайте тестовые файлы в директории `test_files/`:
```bash
echo "Part1" > test_files/file1.txt
echo "Part2" > test_files/file2.txt
echo "Part3" > test_files/file3.txt
echo "Part4" > test_files/file4.txt
```

### 2. Запуск программы
Запустите программу:
```bash
./shifr
```

### 3. Проверка результатов
- Зашифрованные файлы: `file1.txt`, `file2.txt`, `file3.txt`, `file4.txt`.
- Объединенные файлы: `merged_file1.txt` (четные), `merged_file2.txt` (нечетные).
- Расшифрованный и зеркальный файл: `decrypted_mirror_file.txt`.

---

## Алгоритм работы программы

1. **Шаг 1: Шифрование**
   - Каждый файл шифруется с использованием улучшенного шифра Цезаря.
   - Используется переменный сдвиг для каждой буквы.

2. **Шаг 2: Объединение**
   - Файлы с четными номерами объединяются в `merged_file1.txt`.
   - Файлы с нечетными номерами объединяются в `merged_file2.txt`.

3. **Шаг 3: Расшифровка и зеркальное преобразование**
   - Объединенные файлы расшифровываются.
   - Расшифрованный текст переворачивается (зеркальное преобразование).
   - Результат записывается в `decrypted_mirror_file.txt`.

---

## Возможные ошибки и их решение

### 1. Ошибка: `incomplete type "std::ifstream"`
- Причина: Отсутствует заголовочный файл `<fstream>`.
- Решение: Убедитесь, что все файлы, использующие `ifstream` или `ofstream`, включают `<fstream>`.

### 2. Ошибка: `duplicate symbol`
- Причина: Функции или переменные определены в заголовочных файлах.
- Решение: Переместите определения функций и переменных в `.cpp`-файлы.

---

